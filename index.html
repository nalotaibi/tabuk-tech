<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø±Ø§Ø¯Ø§Ø± Ø§Ù„Ø­Ø±Ù…Ø§Ù† Ø§Ù„Ø°ÙƒÙŠ - Ø±Ù‚Ù…ÙŠØ© ØªØ¨ÙˆÙƒ</title>
    <style>
        :root {
            --primary: #1d5c41;
            --safe: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --badge-bg: #e8f5e9;
            --badge-text: #2e7d32;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            direction: rtl;
        }

        .glass-card {
            background: #f0f4f8; 
            border-radius: 32px;
            padding: 30px;
            width: 90%;
            max-width: 420px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            border: 1px solid #d1d9e6;
        }

        .app-header-centered { text-align: center; margin-bottom: 25px; }
        .college-logo img { width: 120px; height: auto; margin-bottom: 10px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)); }
        .college-name { margin: 0; font-size: 0.9rem; color: #5a6b7d; font-weight: 600; }
        .header-text h1 { margin: 5px 0; font-size: 1.5rem; color: var(--primary); font-weight: 800; }
        .system-badge { display: inline-block; padding: 4px 14px; background-color: var(--badge-bg); color: var(--badge-text); border-radius: 20px; font-size: 0.8rem; font-weight: bold; }
        
        .absent-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
        .form-group label, .input-box label { display: block; font-size: 0.85rem; font-weight: 600; color: #4a5568; margin-bottom: 5px; }
        
        /* Ù†Øµ ØªÙˆØ¶ÙŠØ­ÙŠ ØµØºÙŠØ± ØªØ­Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª */
        .help-text { font-size: 0.65rem; color: #888; margin-bottom: 5px; display: block; line-height: 1.2; }

        input, select { 
            width: 100%; padding: 12px; border: 1.5px solid #d1d9e6; border-radius: 14px; 
            font-size: 0.9rem; box-sizing: border-box; outline: none; transition: 0.3s; background: white; 
        }
        input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(29, 92, 65, 0.1); }

        .result-display { border-radius: 24px; padding: 25px; text-align: center; transition: 0.4s; margin-top: 10px; }
        .safe-mode { background: rgba(255, 255, 255, 0.7); border: 1px solid #d1d9e6; }
        .warning-mode { background: #fff9e6; border: 1px solid #fef3d1; }
        .danger-mode { background: #fff5f5; border: 1px solid #fee2e2; }

        .main-metric h2 { font-size: 2.4rem; margin: 10px 0; color: var(--primary); }
        .m-value { font-size: 1.1rem; font-weight: 800; }
        .progress-track { background: #e2e8f0; height: 10px; border-radius: 10px; overflow: hidden; margin-top: 10px; }
        .progress-thumb { height: 100%; width: 0%; transition: 1s ease-in-out; }
        
        .app-footer { margin-top: 25px; padding-top: 15px; border-top: 1px solid #d1d9e6; text-align: center; }
        .signature { font-size: 0.75rem; color: var(--primary); font-weight: 700; }
    </style>
</head>
<body>

<div class="app-wrapper">
    <div class="glass-card">
        <header class="app-header-centered">
            <div class="college-logo">
                <img src="https://tvtc.gov.sa/SiteAssets/images/logo.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¤Ø³Ø³Ø©">
            </div>
            <div class="header-text">
                <h1>Ø±Ø§Ø¯Ø§Ø± Ø§Ù„Ø­Ø±Ù…Ø§Ù† Ø§Ù„Ø°ÙƒÙŠ</h1>
                <div class="badge-container">
                    <span class="system-badge">Ù†Ø¸Ø§Ù… Ø§Ù„Ù€ 16 Ø£Ø³Ø¨ÙˆØ¹Ø§Ù‹ (20%)</span>
                </div>
            </div>
        </header>

        <div class="input-container">
            <div class="form-group">
                <label>ğŸ“š Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù‚Ø±Ø± ÙÙŠ Ø§Ù„Ø®Ø·Ø©</label>
                <select id="courseHours" onchange="calculate()">
                    <option value="1">1 Ø³Ø§Ø¹Ø©</option>
                    <option value="2">2 Ø³Ø§Ø¹Ø©</option>
                    <option value="3">3 Ø³Ø§Ø¹Ø§Øª</option>
                    <option value="4" selected>4 Ø³Ø§Ø¹Ø§Øª</option>
                    <option value="5">5 Ø³Ø§Ø¹Ø§Øª</option>
                    <option value="6">6 Ø³Ø§Ø¹Ø§Øª</option>
                </select>
            </div>

            <div class="absent-grid">
                <div class="input-box">
                    <label>ØºÙŠØ§Ø¨ (Ù…Ø­Ø§Ø¶Ø±Ø© Ù…Ø¯ØªÙ‡Ø§ Ø³Ø§Ø¹Ø©)</label>
                    <input type="number" id="count1" placeholder="Ø§ÙƒØªØ¨ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„ØºÙŠØ§Ø¨ " min="0" oninput="calculate()">
                </div>
                <div class="input-box">
                    <label>ØºÙŠØ§Ø¨ (Ù…Ø­Ø§Ø¶Ø±Ø© Ù…Ø¯ØªÙ‡Ø§ Ø³Ø§Ø¹ØªÙŠÙ†)</label>
                    <input type="number" id="count2" placeholder="Ø§ÙƒØªØ¨ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„ØºÙŠØ§Ø¨ " min="0" oninput="calculate()">
                </div>
            </div>
        </div>

        <div id="statusBox" class="result-display safe-mode">
            <div class="main-metric">
                <span class="metric-label">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø±Ù…Ø§Ù†</span>
                <h2 id="leftRes">--</h2>
            </div>
            <div class="metrics-row" style="display: flex; justify-content: space-around; align-items: center; margin: 15px 0;">
                <div class="metric-item">
                    <span style="font-size: 0.75rem; color: #718096; display: block;">Ù†Ø³Ø¨Ø© Ø§Ù„ØºÙŠØ§Ø¨</span>
                    <span id="percentRes" class="m-value">0%</span>
                </div>
                <div style="width: 1px; height: 30px; background: #d1d9e6;"></div>
                <div class="metric-item">
                    <span style="font-size: 0.75rem; color: #718096; display: block;">Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØºÙŠØ§Ø¨</span>
                    <span id="hoursRes" class="m-value">0</span>
                </div>
            </div>
            <div class="progress-section">
                <div style="display: flex; justify-content: space-between; font-size: 0.75rem; color: #718096; margin-bottom: 5px;">
                    <span>Ù…Ø¤Ø´Ø± Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù† Ø§Ù„Ø­Ø±Ù…Ø§Ù†</span>
                    <span id="limitHours">--</span>
                </div>
                <div class="progress-track">
                    <div id="progressBar" class="progress-thumb"></div>
                </div>
            </div>
        </div>

        <footer class="app-footer">
            <p class="signature">Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªØµÙ…ÙŠÙ… Ø£. Ù†ÙˆØ±Ø© Ø§Ù„Ù‚Ø«Ø§Ù…ÙŠ - Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</p>
        </footer>
    </div>
</div>

<script>
function calculate() {
    const hoursInPlan = parseInt(document.getElementById('courseHours').value);
    const c1 = parseFloat(document.getElementById('count1').value) || 0;
    const c2 = parseFloat(document.getElementById('count2').value) || 0;
    const actualAbsentHours = (c1 * 1) + (c2 * 2);
    const totalSemesterHours = hoursInPlan * 16;
    const limitHours = totalSemesterHours * 0.20;
    const currentPercent = (actualAbsentHours / totalSemesterHours) * 100;
    const remainingHours = limitHours - actualAbsentHours;

    document.getElementById('percentRes').innerText = currentPercent.toFixed(1) + "%";
    document.getElementById('hoursRes').innerText = actualAbsentHours;
    document.getElementById('limitHours').innerText = `Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: ${limitHours.toFixed(1)} Ø³Ø§Ø¹Ø©`;
    
    const leftRes = document.getElementById('leftRes');
    const thumb = document.getElementById('progressBar');
    const statusBox = document.getElementById('statusBox');

    thumb.style.width = Math.min(currentPercent, 100) + "%";

    if (actualAbsentHours >= limitHours) {
        leftRes.innerText = "Ø­Ø±Ù…Ø§Ù†";
        leftRes.style.color = "var(--danger)";
        statusBox.className = "result-display danger-mode";
        thumb.style.background = "var(--danger)";
    } else {
        leftRes.innerText = Math.floor(remainingHours) + " Ø³Ø§Ø¹Ø© Ù…ØªØ¨Ù‚ÙŠØ©";
        leftRes.style.color = "var(--primary)";
        if (currentPercent > 15) {
            statusBox.className = "result-display warning-mode";
            thumb.style.background = "var(--warning)";
        } else {
            statusBox.className = "result-display safe-mode";
            thumb.style.background = "var(--safe)";
        }
    }
}
window.onload = calculate;
</script>
</body>
</html>
