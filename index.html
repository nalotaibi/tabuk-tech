<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุจู ุงูุบูุงุจ ุงูุฐูู</title>
<style>
    :root {
        --primary: #1d5c41; /* ุฃุฎุถุฑ ุงููุคุณุณุฉ */
        --accent: #26aba4;  /* ุงูููุฑูุฒู ูู ุงูุดุนุงุฑ */
        --bg-color: #f0f7f6; /* ุฎูููุฉ ูุงุฏุฆุฉ ูุงุฆูุฉ ููููุฑูุฒู */
    }

    body {
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', Tahoma, sans-serif;
    /* ููู ูุงุฏุฆ ุฌุฏุงู ูุณุชูุญู ูู ุฎูููุฉ ุงูุดุนุงุฑ ุงูุจูุถุงุก ุงููุงุฆูุฉ ููุฑูุงุฏู ุงูุฃุฎุถุฑ */
    background-color: #f7faf9; 
    display: flex;
    justify-content: center;
    align-items: flex-start; /* ูุจุฏุฃ ูู ุงูุฃุนูู ููููู ููุงุณุจุงู ููุฌูุงู */
    min-height: 100vh;
    direction: rtl;
}


.glass-card {
    background: #ffffff; 
    border-radius: 0; /* ุฅุฒุงูุฉ ุงูุฒูุงูุง ุงูุฏุงุฆุฑูุฉ ุงููุจูุฑุฉ ูููุฑ ุจุณูุงุณุฉ ูุน ุงูุดุงุดุฉ */
    padding: 30px 20px;
    width: 100%; /* ููุก ุงูุนุฑุถ ูุงููุงู */
    max-width: 500px; /* ููุธู ูุชูุงุณูุงู ุฅุฐุง ููุชุญ ูู ููุจููุชุฑ */
    min-height: 100vh; /* ููุบุทู ุทูู ุงูุดุงุดุฉ ุจุงููุงูู */
    box-shadow: none; 
    border: none;
    box-sizing: border-box;
}


    .college-logo img { 
        width: 170px; /* ุญุฌู ูุชูุงุณู ููุฎู */
        height: auto; 
        margin-bottom: 12px; 
    }

    .header-text h1 { 
        margin: 5px 0 2px; 
        font-size: 1.6rem; /* ุญุฌู ุงูุนููุงู ุงูุฑุฆูุณู */
        color: var(--primary); 
        font-weight: 800; 
    }

    .header-description { 
        margin: 0 0 15px; 
        font-size: 0.9rem; /* ุญุฌู ุงููุตู ุงููุฑุนู */
        color: #555; 
        font-weight: 600; 
        opacity: 0.85;
    }
</style>

</head>
<body>

<div class="app-wrapper">
    <div class="glass-card">
        <header class="app-header-centered">
            <div class="college-logo">
                <img src="IMG_1800.png" alt="ุดุนุงุฑ ุงููููุฉ ุงูุฑูููุฉ">
            </div>
            <div class="header-text">
                <h1>ููุจู ุงูุบูุงุจ ุงูุฐูู</h1>
                <p class="header-description">ุฑุคูุฉ ุฐููุฉ ูุญุถูุฑู ุงูุฃูุงุฏููู</p>
                <div class="badge-container">
                    <span class="system-badge">ูุธุงู 16 ุฃุณุจูุนุงู (20%)</span>
                </div>
            </div>
        </header>

        <div class="input-container">
            <div class="form-group" style="text-align:center; margin-bottom:15px;">
                <label style="display:block; font-size:0.85rem; font-weight:600; color:#4a5568; margin-bottom:8px;">ุนุฏุฏ ุณุงุนุงุช ุงูููุฑุฑ ุงูุฃุณุจูุนูุฉ</label>
                <select id="courseHours" onchange="calculate()">
                    <option value="1">1 ุณุงุนุฉ</option>
                    <option value="2">2 ุณุงุนุฉ</option>
                    <option value="3">3 ุณุงุนุงุช</option>
                    <option value="4" selected>4 ุณุงุนุงุช</option>
                    <option value="5">5 ุณุงุนุงุช</option>
                    <option value="6">6 ุณุงุนุงุช</option>
                </select>
            </div>

            <div class="absent-grid">
                <div class="input-box">
                    <label>ุบูุงุจ (ูุฏุฉ ุณุงุนุฉ)</label>
                    <input type="text" inputmode="numeric" id="count1" oninput="fixAndCalc(this)" placeholder="0">
                </div>
                <div class="input-box">
                    <label>ุบูุงุจ (ูุฏุฉ ุณุงุนุชูู)</label>
                    <input type="text" inputmode="numeric" id="count2" oninput="fixAndCalc(this)" placeholder="0">
                </div>
            </div>
            <button class="reset-btn" onclick="resetApp()">โบ ูุณุญ ุงูุจูุงูุงุช</button>
        </div>

        <div id="statusBox" class="result-display safe-mode">
            <div class="main-metric">
                <span class="metric-label">ุงูุฑุตูุฏ ุงููุชุจูู ูุจู ุงูุญุฑูุงู</span>
                <h2 id="leftRes">--</h2>
            </div>

            <div class="metrics-row" style="display: flex; justify-content: space-around; align-items: center; margin: 15px 0;">
                <div class="metric-item">
                    <span style="font-size: 0.75rem; color: #718096; display: block;">ูุณุจุฉ ุงูุบูุงุจ</span>
                    <span id="percentRes" class="m-value">0%</span>
                </div>
                <div style="width: 1px; height: 30px; background: #d1d9e6;"></div>
                <div class="metric-item">
                    <span style="font-size: 0.75rem; color: #718096; display: block;">ุณุงุนุงุช ุงูุบูุงุจ</span>
                    <span id="hoursRes" class="m-value">0</span>
                </div>
            </div>

            <div class="progress-section">
                <div style="display: flex; justify-content: space-between; font-size: 0.75rem; color: #718096; margin-bottom: 5px;">
                    <span>ูุคุดุฑ ุงููุฑุจ ูู ุงูุญุฑูุงู</span>
                    <span id="limitHoursDisplay">--</span>
                </div>
                <div class="progress-track">
                    <div id="progressBar" class="progress-thumb"></div>
                </div>
            </div>

            <div id="extraInfo" style="margin-top:12px;font-size:0.85rem; line-height: 1.6;"></div>

            <button onclick="toggleExplain()" style="margin-top:12px;background:none;border:none;color:var(--primary);cursor:pointer;font-size:0.8rem;font-weight:bold;text-decoration:underline;">
                ๐ ููู ุชู ุงูุญุณุงุจุ
            </button>
            <div id="explainBox" style="display:none;font-size:0.75rem;margin-top:8px;color:#64748b;background:#fff;padding:8px;border-radius:10px;border:1px solid #eee;">
                ุงููุนุงุฏูุฉ: (ุงูุณุงุนุงุช ุงูุฃุณุจูุนูุฉ ร 16 ุฃุณุจูุน) ร 20ูช
            </div>
        </div>

                  <footer class="app-footer">
            <p style="margin: 0; font-size: 0.95rem; color: #1d5c41; font-weight: bold;">ุฅุนุฏุงุฏ ูุชุตููู: ุฃ. ููุฑุฉ ุงููุซุงูู</p>
            
            <p style="margin: 4px 0; font-size: 0.8rem;">
                <a href="mailto:norah.a@tvtc.gov" style="color: #4a5568; text-decoration: none; direction: ltr; display: inline-block;">
                    ๐ง norah.a@tvtc.gov
                </a>
            </p>

            <p style="margin: 5px 0 0; font-size: 0.8rem; color: #64748b;">ูุณู ุงูุญุงุณุจ ูุชูููุฉ ุงููุนูููุงุช | 1447ูู - 2026ู</p>
            
            <div style="margin-top: 15px; opacity: 0.8;">
                <a href="https://www.freecounterstat.com" title="website counter"><img src="https://counter1.optistats.ovh/private/freecounterstat.php?c=pt4x3lgqdkek5gqe8qd7ekhfb1ezkp4m" border="0" title="website counter" alt="website counter"></a>
            </div>
        </footer>


    </div>
</div>

<script>
function toggleExplain() {
    const box = document.getElementById('explainBox');
    box.style.display = (box.style.display === 'none') ? 'block' : 'none';
}

function fixAndCalc(el) {
    const arabicDigits = 'ููกูขูฃูคูฅูฆูงูจูฉ';
    const englishDigits = '0123456789';
    let val = el.value;
    let converted = '';
    for (let char of val) {
        const index = arabicDigits.indexOf(char);
        converted += (index !== -1) ? englishDigits[index] : char;
    }
    el.value = converted.replace(/[^\d]/g, '');
    calculate();
}

function resetApp() {
    document.getElementById('count1').value=''; 
    document.getElementById('count2').value=''; 
    document.getElementById('courseHours').value=4; 
    calculate();
}

function calculate() {
    const hoursInPlan = parseInt(document.getElementById('courseHours').value);
    const c1 = parseFloat(document.getElementById('count1').value)||0;
    const c2 = parseFloat(document.getElementById('count2').value)||0;

    const absentHours = c1 + (c2*2);
    const totalHours = hoursInPlan * 16;
    const limitHours = totalHours * 0.20;
    const percent = (absentHours / totalHours) * 100;
    const remaining = limitHours - absentHours;

    document.getElementById('percentRes').innerText = percent.toFixed(1) + "%";
    document.getElementById('hoursRes').innerText = absentHours;
    document.getElementById('limitHoursDisplay').innerText = `ุงูุญุฏ ุงูุฃูุตู: ${limitHours.toFixed(1)} ุณุงุนุฉ`;
    
    const progressBar = document.getElementById('progressBar');
    progressBar.style.width = Math.min((absentHours/limitHours)*100,100) + "%";

    let color,msg,mode;
    const leftRes = document.getElementById('leftRes');
    const statusBox = document.getElementById('statusBox');
    const extraInfo = document.getElementById('extraInfo');

    if(percent >= 20){
        color="var(--danger)"; mode="danger-mode";
        leftRes.innerText="๐ซ ุญุฑูุงู";
        msg="<span style='color:var(--danger); font-weight:bold;'>ุชุฌุงูุฒุช ุงูุญุฏ ุงููุณููุญ.</span>";
    }
    else{
        leftRes.innerText=remaining.toFixed(1)+" ุณุงุนุฉ ูุชุจููุฉ";
        if(percent >= 15){ color="var(--orange)"; mode="warning-mode"; msg="๐ ุงูุชุฑุจุช ูู ุญุฏ ุงูุญุฑูุงู"; }
        else if(percent >= 10){ color="var(--warning)"; mode="warning-mode"; msg="๐ก ุชูุจูู"; }
        else{ color="var(--safe)"; mode="safe-mode"; msg="๐ข ูุถุนู ูุทูุฆูุ ุญุงูุธ ุนูู ุญุถูุฑู"; }
    }

    progressBar.style.background=color;
    statusBox.className="result-display "+mode;

    if(percent < 20) {
        extraInfo.innerHTML=`${msg}<br>
        ููููู ุงูุบูุงุจ <b>${Math.floor(remaining)}</b> ูุญุงุถุฑุฉ (ุณุงุนุฉ ูุงุญุฏุฉ)<br>
        ุฃู <b>${Math.floor(remaining/2)}</b> ูุญุงุถุฑุฉ (ุณุงุนุชูู)`;
    } else { extraInfo.innerHTML=msg; }
}

window.onload = calculate;
</script>

</body>
</html>
