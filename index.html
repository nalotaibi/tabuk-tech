<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†Ø¨Ù‡ Ø§Ù„ØºÙŠØ§Ø¨ Ø§Ù„Ø°ÙƒÙŠ - Ø±Ù‚Ù…ÙŠØ© ØªØ¨ÙˆÙƒ</title>
    <style>
        :root {
            --primary: #1d5c41;
            --safe: #22c55e;      /* Ø£Ø®Ø¶Ø± */
            --warning: #facc15;   /* Ø£ØµÙØ± */
            --orange: #fb923c;    /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
            --danger: #ef4444;    /* Ø£Ø­Ù…Ø± */
            --badge-bg: #e8f5e9;
            --badge-text: #2e7d32;
            --gray: #718096;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            direction: rtl;
        }

        .glass-card {
            background: #f0f4f8; 
            border-radius: 32px;
            padding: 30px;
            width: 90%;
            max-width: 420px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            border: 1px solid #d1d9e6;
        }

        .app-header-centered { text-align: center; margin-bottom: 25px; }
        .college-logo img { width: 140px; height: auto; margin-bottom: 10px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)); }
        .header-text h1 { margin: 5px 0; font-size: 1.5rem; color: var(--primary); font-weight: 800; }
        .system-badge { display: inline-block; padding: 4px 14px; background-color: var(--badge-bg); color: var(--badge-text); border-radius: 20px; font-size: 0.8rem; font-weight: bold; }
        
        .absent-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
        .input-box { display: flex; flex-direction: column; align-items: center; text-align: center; }
        .form-group label, .input-box label { display: block; font-size: 0.85rem; font-weight: 600; color: #4a5568; margin-bottom: 8px; }
        
        input, select { 
            width: 100%; 
            padding: 12px 20px;
            border: 1.5px solid #d1d9e6; 
            border-radius: 14px; 
            font-size: 0.95rem; 
            box-sizing: border-box; 
            outline: none; 
            transition: 0.3s; 
            background: white; 
            text-align: center;
        }

        input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(29, 92, 65, 0.1); }

        .reset-btn {
            width: 100%; padding: 10px; margin-top: 5px; background: transparent; color: var(--gray);
            border: 1px dashed var(--gray); border-radius: 12px; cursor: pointer; font-size: 0.8rem; font-weight: 600; transition: 0.3s;
        }

        .result-display { border-radius: 24px; padding: 25px; text-align: center; transition: 0.4s; margin-top: 10px; }
        .safe-mode { background: rgba(255, 255, 255, 0.7); border: 1px solid #d1d9e6; }
        .warning-mode { background: #fff9e6; border: 1px solid #fef3d1; }
        .danger-mode { background: #fff5f5; border: 1px solid #fee2e2; }

        .main-metric h2 { font-size: 2.4rem; margin: 10px 0; color: var(--primary); }
        .m-value { font-size: 1.1rem; font-weight: 800; }
        .progress-track { background: #e2e8f0; height: 10px; border-radius: 10px; overflow: hidden; margin-top: 10px; }
        .progress-thumb { height: 100%; width: 0%; transition: 1s ease-in-out; }
        
        .app-footer { margin-top: 25px; padding-top: 15px; border-top: 1px solid #d1d9e6; text-align: center; }
        .form-group { text-align: center; margin-bottom: 15px; }
    </style>
</head>
<body>

<div class="app-wrapper">
    <div class="glass-card">
        <header class="app-header-centered">
            <div class="college-logo">
                <img src="IMG_1800.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¤Ø³Ø³Ø©">
            </div>
            <div class="header-text">
                <h1>Ù…Ù†Ø¨Ù‡ Ø§Ù„ØºÙŠØ§Ø¨ Ø§Ù„Ø°ÙƒÙŠ</h1>
                <div class="badge-container">
                    <span class="system-badge">Ù†Ø¸Ø§Ù… Ø§Ù„Ù€ 16 Ø£Ø³Ø¨ÙˆØ¹Ø§Ù‹ (20%)</span>
                </div>
            </div>
        </header>

        <div class="input-container">
            <div class="form-group">
                <label>Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù‚Ø±Ø± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©</label>
                <select id="courseHours" onchange="calculate()">
                    <option value="1">1 Ø³Ø§Ø¹Ø©</option>
                    <option value="2">2 Ø³Ø§Ø¹Ø©</option>
                    <option value="3">3 Ø³Ø§Ø¹Ø§Øª</option>
                    <option value="4" selected>4 Ø³Ø§Ø¹Ø§Øª</option>
                    <option value="5">5 Ø³Ø§Ø¹Ø§Øª</option>
                    <option value="6">6 Ø³Ø§Ø¹Ø§Øª</option>
                </select>
            </div>

            <div class="absent-grid">
                <div class="input-box">
                    <label>ØºÙŠØ§Ø¨ (Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø³Ø§Ø¹Ø©)</label>
                    <input type="text" id="count1" oninput="fixArabicNumbers(this)" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª">
                </div>
                <div class="input-box">
                    <label>ØºÙŠØ§Ø¨ (Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø³Ø§Ø¹ØªÙŠÙ†)</label>
                    <input type="text" id="count2" oninput="fixArabicNumbers(this)" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª">
                </div>
            </div>
            <button class="reset-btn" onclick="resetApp()">â†º Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        </div>

        <div id="statusBox" class="result-display safe-mode">
            <div class="main-metric">
                <span class="metric-label">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø±Ù…Ø§Ù†</span>
                <h2 id="leftRes">--</h2>
            </div>

            <div class="metrics-row" style="display: flex; justify-content: space-around; align-items: center; margin: 15px 0;">
                <div class="metric-item">
                    <span style="font-size: 0.75rem; color: #718096; display: block;">Ù†Ø³Ø¨Ø© Ø§Ù„ØºÙŠØ§Ø¨</span>
                    <span id="percentRes" class="m-value">0%</span>
                </div>
                <div style="width: 1px; height: 30px; background: #d1d9e6;"></div>
                <div class="metric-item">
                    <span style="font-size: 0.75rem; color: #718096; display: block;">Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØºÙŠØ§Ø¨</span>
                    <span id="hoursRes" class="m-value">0</span>
                </div>
            </div>

            <div class="progress-section">
                <div style="display: flex; justify-content: space-between; font-size: 0.75rem; color: #718096; margin-bottom: 5px;">
                    <span>Ù…Ø¤Ø´Ø± Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù† Ø§Ù„Ø­Ø±Ù…Ø§Ù†</span>
                    <span id="limitHoursDisplay">--</span>
                </div>
                <div class="progress-track">
                    <div id="progressBar" class="progress-thumb"></div>
                </div>
            </div>

            <div id="extraInfo" style="margin-top:12px;font-size:0.85rem"></div>

            <button onclick="toggleExplain()" style="margin-top:8px;background:none;border:none;color:var(--primary);cursor:pointer;font-size:0.8rem;font-weight:bold;">
                ğŸ” ÙƒÙŠÙ ØªÙ… Ø§Ù„Ø­Ø³Ø§Ø¨ØŸ
            </button>
            <div id="explainBox" style="display:none;font-size:0.75rem;margin-top:5px;color:#64748b">
                Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ = Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ã— 16 Ã— 20Ùª
            </div>
        </div>

        <footer class="app-footer">
            <p style="margin: 0; font-size: 0.9rem; color: #1d5c41; font-weight: bold;">Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªØµÙ…ÙŠÙ…: Ø£. Ù†ÙˆØ±Ø© Ø§Ù„Ù‚Ø«Ø§Ù…ÙŠ</p>
            <p style="margin: 5px 0 0; font-size: 0.8rem; color: #64748b;">Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª | 1447Ù‡Ù€ - 2026Ù…</p>
        </footer>
    </div>
</div>

<script>
function toggleExplain() {
    const box = document.getElementById('explainBox');
    box.style.display = (box.style.display === 'none') ? 'block' : 'none';
}

function fixArabicNumbers(el) {
    const arabicDigits = [/Ù /g,/Ù¡/g,/Ù¢/g,/Ù£/g,/Ù¤/g,/Ù¥/g,/Ù¦/g,/Ù§/g,/Ù¨/g,/Ù©/g];
    let val = el.value;
    for (let i = 0; i < 10; i++) { val = val.replace(arabicDigits[i], i); }
    el.value = val.replace(/[^\d]/g,'');
    calculate();
}

function resetApp() {
    document.getElementById('count1').value=''; 
    document.getElementById('count2').value=''; 
    document.getElementById('courseHours').value=4; 
    calculate();
}

function calculate() {
    const hoursInPlan = parseInt(document.getElementById('courseHours').value);
    const c1 = parseFloat(document.getElementById('count1').value)||0;
    const c2 = parseFloat(document.getElementById('count2').value)||0;

    const absentHours = c1 + (c2*2);
    const totalHours = hoursInPlan * 16;
    const limitHours = totalHours * 0.20;
    const percent = (absentHours / totalHours) * 100;
    const remaining = limitHours - absentHours;

    document.getElementById('percentRes').innerText = percent.toFixed(1) + "%";
    document.getElementById('hoursRes').innerText = absentHours;
    document.getElementById('limitHoursDisplay').innerText = `Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: ${limitHours.toFixed(1)} Ø³Ø§Ø¹Ø©`;
    
    const progressBar = document.getElementById('progressBar');
    progressBar.style.width = Math.min((absentHours/limitHours)*100,100) + "%";

    let color,msg,mode;
    const leftRes = document.getElementById('leftRes');
    const statusBox = document.getElementById('statusBox');
    const extraInfo = document.getElementById('extraInfo');

    if(percent >= 20){
        color="var(--danger)"; mode="danger-mode";
        leftRes.innerText="ğŸš« Ø­Ø±Ù…Ø§Ù†";
        msg="ØªØ¬Ø§ÙˆØ²ØªÙ Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…Ø³Ù…ÙˆØ­.";
    }
    else{
        leftRes.innerText=remaining.toFixed(1)+" Ø³Ø§Ø¹Ø© Ù…ØªØ¨Ù‚ÙŠØ©";

        if(percent >= 15){ color="var(--orange)"; mode="warning-mode"; msg="ğŸŸ  Ø§Ù‚ØªØ±Ø¨Øª Ù…Ù† Ø­Ø¯ Ø§Ù„Ø­Ø±Ù…Ø§Ù†"; }
        else if(percent >= 10){ color="var(--warning)"; mode="warning-mode"; msg="ğŸŸ¡ ØªÙ†Ø¨ÙŠÙ‡"; }
        else{ color="var(--safe)"; mode="safe-mode"; msg="ğŸŸ¢ ÙˆØ¶Ø¹Ùƒ Ù…Ø·Ù…Ø¦Ù†"; }
    }

    progressBar.style.background=color;
    statusBox.className="result-display "+mode;

    extraInfo.innerHTML=`${msg}<br>
    ÙŠÙ…ÙƒÙ†ÙƒÙ Ø§Ù„ØºÙŠØ§Ø¨ <b>${Math.floor(remaining)}</b> Ù…Ø­Ø§Ø¶Ø±Ø© (Ø³Ø§Ø¹Ø©)<br>
    Ø£Ùˆ <b>${Math.floor(remaining/2)}</b> Ù…Ø­Ø§Ø¶Ø±Ø© (Ø³Ø§Ø¹ØªÙŠÙ†)`;
}

window.onload = calculate;
</script>

</body>
</html>
